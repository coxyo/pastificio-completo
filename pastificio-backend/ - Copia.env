# ============================================
# PASTIFICIO NONNA CLAUDIA - CONFIGURAZIONE BACKEND
# ============================================

# MongoDB
MONGODB_URI=mongodb+srv://pastificiononnaclaudia:Pastificio2025@pastificio.sj0sm.mongodb.net/pastificio?retryWrites=true&w=majority
PORT=10000
NODE_ENV=production

# JWT Authentication
JWT_SECRET=il_tuo_secret_molto_sicuro_pastificio_2025
JWT_EXPIRE=24h

# Frontend URLs - CORS Configuration
FRONTEND_URL=https://pastificio-frontend-final.vercel.app
ALLOWED_ORIGINS=https://pastificio-frontend-final.vercel.app,http://localhost:3000,http://localhost:3001

# ============================================
# üÜï 3CX TELEPHONY INTEGRATION
# ============================================

# 3CX Server Configuration
CX3_URL=https://1655.3cx.cloud
CX3_EXTENSION=19810

# ‚ö†Ô∏è SCEGLI UNO DEI DUE METODI:

# METODO 1: SEMPLICE (senza API 3CX) - RACCOMANDATO PER INIZIARE
# Usa protocollo tel:// per click-to-call
# Non richiede configurazione 3CX console
CX3_API_KEY=disabled
CX3_WEBHOOK_SECRET=disabled

# METODO 2: COMPLETO (con API 3CX) - Decommentare se hai API Key
# Richiede configurazione in console 3CX
# CX3_API_KEY=your_actual_3cx_api_key_here
# CX3_WEBHOOK_SECRET=your_webhook_secret_here
# CX3_ADMIN_USER=admin
# CX3_ADMIN_PASSWORD=your_3cx_password

# ============================================
# EMAIL CONFIGURATION (SMTP Gmail)
# ============================================
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_SECURE=false
SMTP_USER=pastificiononnaclaudia@gmail.com
SMTP_PASS=lkwh woqr maxj rmke
SMTP_FROM_NAME=Pastificio Nonna Claudia
SMTP_FROM_EMAIL=pastificiononnaclaudia@gmail.com

# ============================================
# WHATSAPP CONFIGURATION (Twilio)
# ============================================
WHATSAPP_PROVIDER=twilio
ENABLE_WHATSAPP_NOTIFICATIONS=true

# Twilio WhatsApp Credentials
TWILIO_ACCOUNT_SID=ACb3be7d8f44ad3333a326ec2e43aac57b
TWILIO_AUTH_TOKEN=8ee0ca191092c20d015e03cdea3b9621
TWILIO_WHATSAPP_NUMBER=whatsapp:+14155238886

# ============================================
# GOOGLE DRIVE BACKUP
# ============================================
GOOGLE_DRIVE_CREDENTIALS=./google-credentials-service.json
GOOGLE_DRIVE_FOLDER_NAME=Pastificio_Backup

# Google OAuth2 (opzionale)
GOOGLE_CLIENT_ID=1029914735597-glsv5asp6u06bvjj20p32l8j0opf7183.apps.googleusercontent.com
GOOGLE_CLIENT_SECRET=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
GOOGLE_REDIRECT_URI=https://pastificio-backend-production.up.railway.app/auth/google/callback

# ============================================
# NOTIFICATIONS SETTINGS
# ============================================
ENABLE_EMAIL_NOTIFICATIONS=true
ENABLE_SMS_NOTIFICATIONS=false
ENABLE_PUSH_NOTIFICATIONS=false

# ============================================
# BACKUP SETTINGS
# ============================================
BACKUP_ENABLED=true
BACKUP_RETENTION_DAYS=30
BACKUP_SCHEDULE="0 2 * * *"

# ============================================
# RATE LIMITING
# ============================================
RATE_LIMIT_WINDOW_MS=900000
RATE_LIMIT_MAX_REQUESTS=100

# ============================================
# SESSION & SECURITY
# ============================================
SESSION_SECRET=session_secret_pastificio_2025_molto_sicuro

# ============================================
# LOGGING
# ============================================
LOG_LEVEL=info
LOG_FILE_PATH=./logs/app.log

# ============================================
# TIMEZONE
# ============================================
TZ=Europe/Rome

# ============================================
# UPLOADS
# ============================================
MAX_FILE_UPLOAD_SIZE=50mb
UPLOAD_PATH=./uploads

# ============================================
# DEVELOPMENT
# ============================================
FORCE_COLOR=1
DEBUG=app:*

# ============================================
# WEBSOCKET SETTINGS (Railway optimization)
# ============================================
WS_PING_INTERVAL=25000
WS_PING_TIMEOUT=60000

# ============================================
# FINE CONFIGURAZIONE
# ============================================

# üìù NOTE IMPORTANTI:
# 
# 1. 3CX INTEGRATION:
#    - Usa METODO 1 (disabled) per iniziare senza configurare 3CX
#    - Passa a METODO 2 quando hai API Key da console 3CX
#
# 2. WHATSAPP:
#    - Credenziali Twilio gi√† configurate e funzionanti
#
# 3. EMAIL:
#    - Gmail SMTP gi√† configurato con App Password
#
# 4. BACKUP:
#    - Backup automatico attivo alle 02:00 AM ogni giorno
#
# 5. SECURITY:
#    - Cambia JWT_SECRET e SESSION_SECRET in produzione
#    - Mai committare questo file su Git!